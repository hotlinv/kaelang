# kæ语言：致力于使用人能看懂的纯中文进行编程

#### 介绍

kæ（福州话音译，意思是——傻，顾名思义，它现在还很傻，我希望总有一天它会变得”聪明“起来）语言，一门用python实现的中文编程语言。致力于使用人能看懂的纯中文进行编程。

#### 软件架构

这个语言的实现架构非常简单粗暴：使用正则解析中文语法，然后转成底层实现语言(python)指令并执行。

—— 致敬那个用转C语言写编程语言的五年级小盆友

#### 语法说明

##### 语句

虽然我很喜欢python的强制缩进，但是对于中文，似乎对缩进没有非常严格的要求，甚至对于段落也没有非常严格的要求。所以，你可以把一段话一行表达完，也可以分行，只要跟中文一样，使用“。”来表示一个语句的结束就可以。比如：

```
定义一个空列表名为“一行”。在《一行》中插入：3、“X”、7、“=”、3与7求积、制表符、制表符、“！”。将列表《一行》拼接。打印：《一行拼接后》的值。
```

和

```
定义一个空列表名为“一行”。
在《一行》中插入：3、“X”、7、“=”、3与7求积、制表符、制表符、“！”。

将列表《一行》拼接。打印：《一行拼接后》的值。
```

是一样的（甚至中间有空行也没关系）。“段落”在这里没有太强的语义约束。你按论文标准写还是按诗标准写代码都是可以的。但是符号——逗号、句号、顿号、冒号、引号和书名号都有强烈的语义含义。

本来我想像word一样，用段落，首字空两格，后面想想，算了——word这玩意儿又不是开放式格式，用这种语法复杂程度太高了。没有编辑器支持写代码的人太痛苦了（我又不是JB，没空做IDE）。

另外中文语法同一个意思会有很多的表达，我也给每种指令做了很多别名，以适应不同的中文表达。具体接受的表达下面会有详细的说明。

##### 控制台打印

控制台打印是最简单的功能，也是个惯例了，凡是个编程语义就有一个打印Helloworld，即使它其他什么也干不了，它也算是一门编程语言了。如果它不能打印Helloworld，就算它能吃3碗干饭，可它还算什么编程语言呢？

我们的hello world是这样的：

```
在控制台打印： “你好，世界”。
```

结果是：

你好，世界

好了，已经能打印helloworld了，我们已经开山立派建立了一门编程语言，我们的任务完成了，我们的教程结束了！下班了！大家晚安，拜拜！~~

开玩笑的，别当真。下面继续。

我们说了，表达是多样的，打印还可以这样写：

```
在控制台打印：“你好世界”。
于控制台打印：“你好世界”。
使用控制台打印：“你好世界”。
打印：“你好世界”。
```

那个：（中文冒号，英文冒号都可以）是必须有的。后面中文的引号”“表示这是一个字符串。注意，是中文双引号，不支持单引号，不支持英文双引号，就这么牛逼！

如果要打印多个值，可以把所有的值都放到后面，用顿号（、）隔开。

```
在控制台打印：“你好”、“世界”、“！”。
```

##### 变量

定义变量可以使用以下语句定义：

```
有一个名为“出版年份”的整数，值为2008。
定义一个字符串叫“字典”，值为“新华字典”
```

也可以这样定义：

```
[新建|创建|定义|有]一个[整数|浮点数|字符串|数组][称作|称为|名为|叫]“变量名”，[值|初始化]为XXXX
[新建|创建|定义|有]一个[称作|称为|名为|叫]“变量名”的[整数|浮点数|字符串|数组]，[值|初始化]为XXXX
```

变量名要用中文引号“”括住，突出一下。

定义了变量，下面要使用时，用这样的语句来调用：

```
用控制台打印：《出版年份》的值。
打印："《"、《字典》的值、“》：”、《出版年份》的值、“版”。
```

使用变量要使用书名号（《》）把变量括起来，我本来是想用点复杂的标记（比如下划线波浪线之类），但是……输入太麻烦了。还要注意的是：要取变量的值，要跟“的值”两个字，预留着给对象的属性来使用的空间。

##### 判断

判断使用如下语法：

```
判断：[如果|如|若|如若|若是]条件1，[则|就|那么]动作1，[如果|如|若|如若|若是]条件2，[则|就|那么]动作2，... [否则|不然|不然就]else动作
```

举个栗子：

```
判断：如果《出版年份》的值比2005小，就打印：“老字典”，若《出版年份》的值比2010大，就打印：“新字典”，否则打印：“不新不旧版”。
```

开头的 判断： 必须写。如果... 就，这个就类似 if ... elif ...，可以不停重复。最后的否则，就是else。

##### 循环

循环需要先定义一个循环子，然后基于这个循环子去循环。

比如这样可以定义一个循环子：

```
定义一个循环子叫“一星期”，值为列表：1到7。
```
然后基于这个循环子开启/执行这个循环：
```
启动循环《一星期》，运行打印：“星期”、《一星期》当前值。
```
循环结果如下：
```
星期 1
星期 2
星期 3
星期 4
星期 5
星期 6
星期 7
```
当然，这仅仅是一个最简单的循环，对于复杂循环，可能需要多行或者多语句的处理，有可能还会有多层嵌套。碰到多层嵌套的时候，语句会变得相当复杂。如何处理多层嵌套，又能让中文代码简单易懂？这个问题我想了好几天。最后在敲文档的时候有了灵感。

在word里面，经常会敲：

```
1. xxxx
2. XXXX
2.1 xxxxx
2.1.1 xxxxx
3. xxxx
```

这样的章节结构。当然，标号又有一大堆不同形式，比如(1)，[1]，1），第1章，一、这样的形式。这种形式可以嵌套，而且层级结构非常清晰。我原来想说设计成不同的
层级不同的标号形式，后面感觉太复杂了，所以仅仅采用了1）,1.1）这样的标号来进行层级定义。一个复杂的嵌套循环可以写成这样：

```
【注】打印九九乘法表
定义一个循环子叫“行”，值为列表：1到9。定义一个循环子叫“列”，值为列表：1到9。
启动循环《列》，执行如下动作：
1）定义一个空列表名为“乘法表一行”。
2）启动循环《行》，执行如下动作：
2.1）在《乘法表一行》中插入：《行》当前值、“X”、《列》当前值、“=”、《行》当前值乘《列》当前值、制表符。
3）将列表《乘法表一行》进行拼接。
4）打印：《乘法表一行拼接后》的值。
```
需要注意的是：要开启一个新的代码段，需要在开启的一行的最后要这么写：

```
[如下|以下][动作|操作]：
```

很像python的:号。在标号里定义层级，和缩进很像。这很有python缩进的感觉。

后来我意识到：用标号，如果没有IDE的支持，很容易陷入“标号更改地狱”，也就是说，一旦调整结构，标号数字调整会非常痛苦。所以，我决定像markdown一样，让标号的数字不重要，只有标号分割的级别（.）是重要的，也就是说，先写2，再写1，还是全写1，都是没有问题的。

最后看下乘法表的输出结果：

```
1X1=1   2X1=2   3X1=3   4X1=4   5X1=5   6X1=6   7X1=7   8X1=8   9X1=9
1X2=2   2X2=4   3X2=6   4X2=8   5X2=10  6X2=12  7X2=14  8X2=16  9X2=18
1X3=3   2X3=6   3X3=9   4X3=12  5X3=15  6X3=18  7X3=21  8X3=24  9X3=27
1X4=4   2X4=8   3X4=12  4X4=16  5X4=20  6X4=24  7X4=28  8X4=32  9X4=36
1X5=5   2X5=10  3X5=15  4X5=20  5X5=25  6X5=30  7X5=35  8X5=40  9X5=45
1X6=6   2X6=12  3X6=18  4X6=24  5X6=30  6X6=36  7X6=42  8X6=48  9X6=54
1X7=7   2X7=14  3X7=21  4X7=28  5X7=35  6X7=42  7X7=49  8X7=56  9X7=63
1X8=8   2X8=16  3X8=24  4X8=32  5X8=40  6X8=48  7X8=56  8X8=64  9X8=72
1X9=9   2X9=18  3X9=27  4X9=36  5X9=45  6X9=54  7X9=63  8X9=72  9X9=81
```

完美！

#### 安装教程

1. 安装python
2. 没有了

#### 使用说明

1. python ka.py 测试.k

#### 参与贡献

1. Fork 本仓库
2. 新建 Feat_xxx 分支
3. 提交代码
4. 新建 Pull Request
